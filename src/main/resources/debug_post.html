<!DOCTYPE html>
<html>
<head>
    <script defer="defer">
            document.addEventListener("DOMContentLoaded", function(){
            const sendRequestButton = document.getElementById("sendrq");
              sendRequestButton.addEventListener("click", (event) => {
                funcOnClickSendRequestButton();
              });
            });

            function postAjax(url, data, success) {
                var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP");
                xhr.open('POST', url);
                xhr.setRequestHeader("Content-Type", "application/json");
                xhr.onreadystatechange = function() {
                    if (xhr.readyState>3 && xhr.status==200) { success(xhr.responseText); }
                };
                var params = JSON.stringify(data);
                xhr.send(params);
                return xhr;
            }

            function funcOnClickSendRequestButton() {
              console.log("Send request");
                var postRqDataJson = document.getElementById("rq-json");
                console.log(postRqDataJson);
                postAjax('/test', postRqDataJson, function(data){
                  document.getElementById("rs-json").innerHTML = data;
                });
              }
  </script>
</head>
<body>
<table border="1" width="60%" height=300px cellspacing="0" cellpadding="0">
    <th>
    <td width="50%">
            <pre id="rq-json" width="200px">
              {  "items": [
                {
                  "proc":"prm_salary.pkg_web_cons_rep_input_period_list(refcur => ?)"
                },
                  {
                    "proc":"prm_salary.pkg_web_cons_rep_grbs_list(refcur => ?, p_user_id => 45224506)"
                  },
                {
                  "proc":"prm_salary.pkg_web_cons_rep_institution_list(refcur => ?, p_user_id => 45224506)"
                },
                {
                  "proc":"prm_salary.pkg_web_cons_rep_form_type_list(refcur => ?)"
                },
                {
                  "proc":"prm_salary.pkg_web_cons_rep_territory_list(refcur => ?)"
                },
                {
                  "proc":"prm_salary.pkg_web_cons_rep_okved_list(refcur => ?)"
                }
              ]
             }
             </pre>
    </td>
    <td width="50%">
         <pre id="rs-json">
          ws response here
         </pre>
    </td>
    </th>
</table></br>
<input type="submit" id="sendrq" value="Send post request to ws">
</body>
</html>