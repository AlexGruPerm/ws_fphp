<!DOCTYPE html>
<html>
<head>
    <script defer="defer">
            document.addEventListener("DOMContentLoaded", function(){
            const sendRequestButton = document.getElementById("sendrq");
              sendRequestButton.addEventListener("click", (event) => {
                funcOnClickSendRequestButton();
              });
            });

            function postAjax(url, data, success) {
                var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP");
                xhr.open('POST', url);
                xhr.setRequestHeader("Content-Type", "application/json");
                xhr.onreadystatechange = function() {
                    if (xhr.readyState>3 && xhr.status==200) { success(xhr.responseText); }
                };
                var params = JSON.stringify(data);
                xhr.send(params);
                return xhr;
            }

            function funcOnClickSendRequestButton() {
              console.log("Send request");
                var postRqDataJson = document.getElementById("rq-json").innerHTML;
                console.log(postRqDataJson);
                    postAjax('/test', postRqDataJson, function(data){
                      document.getElementById("rs-json").innerHTML = data;
                    });
              }
  </script>
</head>
<body>
<table border="1" height=300px cellspacing="0" cellpadding="0" style="table-layout: fixed; width=75%;">
    <th>
    <td width="50%">
    <div contenteditable="true">
        <pre id="rq-json" style="height: 100%; overflow-y: scroll;">
            req_json_text
        </pre>
    </div>
    </td>
    <td width="50%">
        <pre id="rs-json" style="height: 100%; overflow-y: scroll;">
            ws response here
        </pre>
    </td>
    </th>
</table>
</br>
<input type="submit" id="sendrq" value="Send post request to ws">
</body>
</html>